(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[4],{104:function(e,t,n){"use strict";n.r(t),n.d(t,"BurgerBuilder",(function(){return I}));var r=n(17),a=n(11),i=n(12),s=n(14),o=n(13),c=n(0),l=n.n(c),u=n(23),d=n(95),p=n(96),h=n.n(p),m=n(97),b=n.n(m),f=function(e){return l.a.createElement("div",{className:b.a.BuildControl},l.a.createElement("div",{className:b.a.Label},e.label),l.a.createElement("button",{className:b.a.Less,onClick:e.remove,disabled:e.disabled},"Less"),l.a.createElement("button",{className:b.a.More,onClick:e.add},"More"))},g=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],_=function(e){return l.a.createElement("div",{className:h.a.BuildControls},l.a.createElement("p",null,"Current Price: ",l.a.createElement("strong",null,e.price.toFixed(2))),g.map((function(t){return l.a.createElement(f,{key:t.label,label:t.label,add:function(){return e.add(t.type)},remove:function(){return e.remove(t.type)},disabled:e.disabled[t.type]})})),l.a.createElement("button",{className:h.a.OrderButton,disabled:!e.purchaseable,onClick:e.ordered},e.isAuthenticated?"ORDER NOW":"SIGN UP TO ORDER"))},v=n(86),E=n(87),C=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.ingredients).map((function(t,n){return l.a.createElement("li",{key:t+n},l.a.createElement("span",{style:{textTransform:"capitalize"}},t)," : ",e.props.ingredients[t])}));return l.a.createElement(u.a,null,l.a.createElement("h3",null,"Your Order:"),l.a.createElement("p",null,"A delicious burger with the following ingredients:"),l.a.createElement("ul",null,t),l.a.createElement("p",null,"Total Price: ",this.props.price),l.a.createElement("p",null,"Continue to Checkout?"),l.a.createElement(E.a,{btnType:"Danger",clicked:this.props.purchaseCancel},"CANCEL"),l.a.createElement(E.a,{btnType:"Success",clicked:this.props.purchaseContinue},"CONTINUE"))}}]),n}(c.Component),B=n(19),y=n(84),O=n(90),j=n(15),k=n(34),S={salad:.5,cheese:.4,meat:1.3,bacon:.7},I=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={purchasing:!1},e.addIngredientHandler=function(t){var n=e.state.ingredients[t]+1,a=Object(r.a)({},e.state.ingredients);a[t]=n;var i=S[t],s=e.state.totalPrice+i;e.setState({ingredients:a,totalPrice:s}),e.updatePurchaseState(a)},e.removeIngredientHandler=function(t){if(0!==e.state.ingredients[t]){var n=Object(r.a)({},e.state.ingredients);n[t]-=1;var a=S[t],i=e.state.totalPrice-a;e.setState({ingredients:n,totalPrice:i}),e.updatePurchaseState(n)}},e.updatePurchaseState=function(e){return Object.values(e).reduce((function(e,t){return e+t}),0)>0},e.purchaseHandler=function(){e.props.isAuthenticated?e.setState({purchasing:!0}):(e.props.onSetAuthRedirectPath("/checkout"),e.props.history.push("/auth"))},e.purchaseCancelHandler=function(){e.setState({purchasing:!1})},e.purchaseContinueHandler=function(){e.props.onInitPurchase(),e.props.history.push({pathname:"/checkout"})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initIngredients()}},{key:"render",value:function(){var e=Object(r.a)({},this.props.ings);for(var t in e)e[t]=e[t]<=0;var n=null,a=this.props.error?l.a.createElement("p",null,"Ingredients can't be loaded"):l.a.createElement(y.a,null);return this.props.ings&&(a=l.a.createElement(u.a,null,l.a.createElement(d.a,{ingredients:this.props.ings}),l.a.createElement(_,{add:this.props.addIngredient,remove:this.props.removeIngredient,disabled:e,price:this.props.totalPrice,purchaseable:this.updatePurchaseState(this.props.ings),ordered:this.purchaseHandler,isAuthenticated:this.props.isAuthenticated})),n=l.a.createElement(C,{ingredients:this.props.ings,purchaseCancel:this.purchaseCancelHandler,purchaseContinue:this.purchaseContinueHandler,price:this.props.totalPrice.toFixed(2)})),l.a.createElement(u.a,null,l.a.createElement(v.a,{show:this.state.purchasing,modalClosed:this.purchaseCancelHandler},n),a)}}]),n}(c.Component);t.default=Object(j.b)((function(e){return{ings:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,error:e.burgerBuilder.error,isAuthenticated:null!==e.auth.token}}),(function(e){return{addIngredient:function(t){return e(k.a(t))},removeIngredient:function(t){return e(k.h(t))},initIngredients:function(){return e(k.e())},onInitPurchase:function(){return e(k.g())},onSetAuthRedirectPath:function(t){return e(k.i(t))}}}))(Object(O.a)(I,B.a))},84:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(85),s=n.n(i);t.a=function(e){return a.a.createElement("div",{className:s.a.loader},"Loading...")}},85:function(e,t,n){e.exports={loader:"Spinner_loader__JqLsB",load6:"Spinner_load6__axrju",round:"Spinner_round__17wmP"}},86:function(e,t,n){"use strict";var r=n(11),a=n(12),i=n(14),s=n(13),o=n(0),c=n.n(o),l=n(88),u=n.n(l),d=n(23),p=n(35),h=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return c.a.createElement(d.a,null,c.a.createElement(p.a,{show:this.props.show,clicked:this.props.modalClosed}),c.a.createElement("div",{className:u.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),n}(o.Component);t.a=h},87:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(89),s=n.n(i);t.a=function(e){return a.a.createElement("button",{className:[s.a.Button,s.a[e.btnType]].join(" "),onClick:e.clicked,disabled:e.disabled},e.children)}},88:function(e,t,n){e.exports={Modal:"Modal_Modal__20bxc"}},89:function(e,t,n){e.exports={Button:"Button_Button__3HRBy",Success:"Button_Success__zyN8J",Danger:"Button_Danger__3_TiA"}},90:function(e,t,n){"use strict";var r=n(11),a=n(12),i=n(14),s=n(13),o=n(0),c=n.n(o),l=n(86),u=n(23);t.a=function(e,t){return function(n){Object(i.a)(d,n);var o=Object(s.a)(d);function d(){var e;Object(r.a)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=o.call.apply(o,[this].concat(n))).state={error:null},e.errorConfirmedHandler=function(){e.setState({error:null})},e}return Object(a.a)(d,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.request.eject(this.resInterceptor)}},{key:"render",value:function(){return c.a.createElement(u.a,null,c.a.createElement(l.a,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),c.a.createElement(e,this.props))}}]),d}(o.Component)}},91:function(e,t,n){e.exports={Burger:"Burger_Burger__c9Ic3"}},92:function(e,t,n){e.exports={BreadBottom:"Ingredient_BreadBottom__3R5in",BreadTop:"Ingredient_BreadTop__3yAaP",Seeds1:"Ingredient_Seeds1__1lfJT",Seeds2:"Ingredient_Seeds2__3HR5d",Meat:"Ingredient_Meat__spgjr",Cheese:"Ingredient_Cheese__3QKZf",Salad:"Ingredient_Salad__3OsWS",Bacon:"Ingredient_Bacon__3vgZG"}},95:function(e,t,n){"use strict";var r=n(36),a=n(0),i=n.n(a),s=n(91),o=n.n(s),c=n(11),l=n(12),u=n(14),d=n(13),p=n(92),h=n.n(p),m=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={ingredient:null},e}return Object(l.a)(n,[{key:"render",value:function(){switch(this.props.type){case"bread-bottom":this.ingredient=i.a.createElement("div",{className:h.a.BreadBottom});break;case"bread-top":this.ingredient=i.a.createElement("div",{className:h.a.BreadTop},i.a.createElement("div",{className:h.a.Seeds1}),i.a.createElement("div",{className:h.a.Seeds2}));break;case"meat":this.ingredient=i.a.createElement("div",{className:h.a.Meat});break;case"cheese":this.ingredient=i.a.createElement("div",{className:h.a.Cheese});break;case"salad":this.ingredient=i.a.createElement("div",{className:h.a.Salad});break;case"bacon":this.ingredient=i.a.createElement("div",{className:h.a.Bacon});break;default:this.ingredient=null}return this.ingredient}}]),n}(a.Component);t.a=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(r.a)(Array(e.ingredients[t])).map((function(e,n){return i.a.createElement(m,{key:t+n,type:t})}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length&&(t=i.a.createElement("p",null,"Please start adding ingredients")),i.a.createElement("div",{className:o.a.Burger},i.a.createElement(m,{type:"bread-top"}),t,i.a.createElement(m,{type:"bread-bottom"}))}},96:function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__3W_YJ",OrderButton:"BuildControls_OrderButton__2AqST",enable:"BuildControls_enable__3htmG"}},97:function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__1vT6n",Label:"BuildControl_Label__WN21C",Less:"BuildControl_Less__Bq_zg",More:"BuildControl_More__N7OA1"}}}]);
//# sourceMappingURL=4.09c40396.chunk.js.map